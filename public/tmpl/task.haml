%script{ :type => "text/x-jsrender",:id => "task-tmpl"}
  .task{ :class => '{{:"status-"+status}}' }

    .summary
      %a{ :name => "task{{:id}}" }
      %span.check
        %input{ :type => "checkbox" }
      %span.imp{ :class => '{{:"importance-"+importance}}' }
        &nbsp;&nbsp;
      %span.summary {{:summary}}
      %div.tags
        {{for tags}}
        %div.tag{ :style => "border: 2px solid {{:color}};" }
          {{:name}}
          %span.rm-icon
            %a.rm-button{ :href => "javascript:void(0);" }
        {{/for}}
      %span.duedate {{:due_date}}
    
    .body.hide
      .info
        .deps
          {{for task_deps}}
          .dep{ :class => '{{:"status-"+dependency.status}}' }
            %a{ :href => "#task{{:dependency.id}}" }
              {{:dependency.id}}: {{: dependency.summary.trunc(20, true) }}
          {{/for}}
        .blocked
          %span.label
            Blocked:
          %span.value
            {{: (status === "blocked") ? "Yes" : "No"}}

      .text
        {{: (text != null && text != "") ? html_text : "No comments..."}}

